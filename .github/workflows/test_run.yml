---
name: Book my Regybox class

on: # yamllint disable-line rule:truthy
  workflow_dispatch:

jobs:
  enroll:
    name: Trigger Regybox enrollment
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v5
      - name: Regybox auto enrollment
        uses: ./
        with:
          class-time: 06:30
          class-type: WOD Rato
          class-date-offset-days: 3
          phpsessid: ${{ secrets.PHPSESSID }}
          regybox-user: ${{ secrets.REGYBOX_USER }}
          calendar-url: ${{ secrets.CALENDAR_URL }}
          send-email: true
          email-to: ${{ secrets.EMAIL_TO }}
          email-username: ${{ secrets.EMAIL_USERNAME }}
          email-password: ${{ secrets.EMAIL_PASSWORD }}
